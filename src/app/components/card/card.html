<div [class]="{'card-container':detailsMode}" (click)="closeDetails()">
  <div [classList]="cardClasses.join(' ')" (pointermove)="pointerMove($event)" (pointerleave)="pointerLeave($event)" (click)="toggleDetails($event)">
    <!-- holographic effect based on rarity -->
    @switch (this.card.rarity) {
      @case ('Common') {
        <div class="holo-bg bg-common"></div>
      }
      @case ('Rare') {
        <div class="holo-bg bg-rare"></div>
      }
      @case ('Epic') {
        <div class="holo-bg bg-epic"></div>
      }
      @case ('Legendary') {
        <div class="holo-bg bg-legendary"></div>
      }
    }
    <div class="holo-lines"></div>
    <span class="bg-blue-700 badge">{{card.cost}}</span>
    <img [src]="card.image" [class]="{'overflow-hidden':true, 'spell-img':spell}" alt="">
    <div class="absolute bottom-0 w-full p-3 h-32">
      @if (unit) {
        <p class="text-center">{{unit.attack}} - {{unit.health}}</p>
        <p class="text-center font-bold">{{card.title}}</p>
        <p class="text-center text-sm">
          @if (!unit.effects) {
            <span>This unit has no ability.</span>
          }@else {
            @for (effect of unit.effects; track $index) {
              <span>{{effect.description}}</span>
            }
          }
        </p>
      }@else if (spell) {
        <p class="text-center">{{spell.element}}</p>
        <p class="text-center font-bold">{{card.title}}</p>
        <p class="text-justify text-sm">{{card.description}}</p>
      }
    </div>
  </div>
</div>
